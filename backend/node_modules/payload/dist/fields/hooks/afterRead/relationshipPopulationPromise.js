"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return _default;
    }
});
const _types = require("../../config/types");
const populate = async ({ currentDepth, data, dataReference, depth, draft = false, fallbackLocale, field, index, key, locale, overrideAccess, req, showHiddenFields })=>{
    const dataToUpdate = dataReference;
    const relation = Array.isArray(field.relationTo) ? data.relationTo : field.relationTo;
    const relatedCollection = req.payload.collections[relation];
    if (relatedCollection) {
        let id = Array.isArray(field.relationTo) ? data.value : data;
        let relationshipValue;
        const shouldPopulate = depth && currentDepth <= depth;
        if (typeof id !== 'string' && typeof id !== 'number' && typeof id?.toString === 'function' && typeof id !== 'object') {
            id = id.toString();
        }
        if (shouldPopulate) {
            relationshipValue = await req.payloadDataLoader.load(JSON.stringify([
                req.transactionID,
                relatedCollection.config.slug,
                id,
                depth,
                currentDepth + 1,
                locale,
                fallbackLocale,
                overrideAccess,
                showHiddenFields,
                draft
            ]));
        }
        if (!relationshipValue) {
            // ids are visible regardless of access controls
            relationshipValue = id;
        }
        if (typeof index === 'number' && typeof key === 'string') {
            if (Array.isArray(field.relationTo)) {
                dataToUpdate[field.name][key][index].value = relationshipValue;
            } else {
                dataToUpdate[field.name][key][index] = relationshipValue;
            }
        } else if (typeof index === 'number' || typeof key === 'string') {
            if (Array.isArray(field.relationTo)) {
                dataToUpdate[field.name][index ?? key].value = relationshipValue;
            } else {
                dataToUpdate[field.name][index ?? key] = relationshipValue;
            }
        } else if (Array.isArray(field.relationTo)) {
            dataToUpdate[field.name].value = relationshipValue;
        } else {
            dataToUpdate[field.name] = relationshipValue;
        }
    }
};
const relationshipPopulationPromise = async ({ currentDepth, depth, draft, fallbackLocale, field, locale, overrideAccess, req, showHiddenFields, siblingDoc })=>{
    const resultingDoc = siblingDoc;
    const populateDepth = (0, _types.fieldHasMaxDepth)(field) && field.maxDepth < depth ? field.maxDepth : depth;
    const rowPromises = [];
    if ((0, _types.fieldSupportsMany)(field) && field.hasMany) {
        if (locale === 'all' && typeof siblingDoc[field.name] === 'object' && siblingDoc[field.name] !== null) {
            Object.keys(siblingDoc[field.name]).forEach((key)=>{
                if (Array.isArray(siblingDoc[field.name][key])) {
                    siblingDoc[field.name][key].forEach((relatedDoc, index)=>{
                        const rowPromise = async ()=>{
                            await populate({
                                currentDepth,
                                data: siblingDoc[field.name][key][index],
                                dataReference: resultingDoc,
                                depth: populateDepth,
                                draft,
                                fallbackLocale,
                                field,
                                index,
                                key,
                                locale,
                                overrideAccess,
                                req,
                                showHiddenFields
                            });
                        };
                        rowPromises.push(rowPromise());
                    });
                }
            });
        } else if (Array.isArray(siblingDoc[field.name])) {
            siblingDoc[field.name].forEach((relatedDoc, index)=>{
                const rowPromise = async ()=>{
                    if (relatedDoc) {
                        await populate({
                            currentDepth,
                            data: relatedDoc,
                            dataReference: resultingDoc,
                            depth: populateDepth,
                            draft,
                            fallbackLocale,
                            field,
                            index,
                            locale,
                            overrideAccess,
                            req,
                            showHiddenFields
                        });
                    }
                };
                rowPromises.push(rowPromise());
            });
        }
    } else if (typeof siblingDoc[field.name] === 'object' && siblingDoc[field.name] !== null && locale === 'all') {
        Object.keys(siblingDoc[field.name]).forEach((key)=>{
            const rowPromise = async ()=>{
                await populate({
                    currentDepth,
                    data: siblingDoc[field.name][key],
                    dataReference: resultingDoc,
                    depth: populateDepth,
                    draft,
                    fallbackLocale,
                    field,
                    key,
                    locale,
                    overrideAccess,
                    req,
                    showHiddenFields
                });
            };
            rowPromises.push(rowPromise());
        });
        await Promise.all(rowPromises);
    } else if (siblingDoc[field.name]) {
        await populate({
            currentDepth,
            data: siblingDoc[field.name],
            dataReference: resultingDoc,
            depth: populateDepth,
            draft,
            fallbackLocale,
            field,
            locale,
            overrideAccess,
            req,
            showHiddenFields
        });
    }
    await Promise.all(rowPromises);
};
const _default = relationshipPopulationPromise;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9maWVsZHMvaG9va3MvYWZ0ZXJSZWFkL3JlbGF0aW9uc2hpcFBvcHVsYXRpb25Qcm9taXNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgUGF5bG9hZFJlcXVlc3QgfSBmcm9tICcuLi8uLi8uLi9leHByZXNzL3R5cGVzJ1xuaW1wb3J0IHR5cGUgeyBSZWxhdGlvbnNoaXBGaWVsZCwgVXBsb2FkRmllbGQgfSBmcm9tICcuLi8uLi9jb25maWcvdHlwZXMnXG5cbmltcG9ydCB7IGZpZWxkSGFzTWF4RGVwdGgsIGZpZWxkU3VwcG9ydHNNYW55IH0gZnJvbSAnLi4vLi4vY29uZmlnL3R5cGVzJ1xuXG50eXBlIFBvcHVsYXRlQXJncyA9IHtcbiAgY3VycmVudERlcHRoOiBudW1iZXJcbiAgZGF0YTogUmVjb3JkPHN0cmluZywgdW5rbm93bj5cbiAgZGF0YVJlZmVyZW5jZTogUmVjb3JkPHN0cmluZywgYW55PlxuICBkZXB0aDogbnVtYmVyXG4gIGRyYWZ0OiBib29sZWFuXG4gIGZhbGxiYWNrTG9jYWxlOiBudWxsIHwgc3RyaW5nXG4gIGZpZWxkOiBSZWxhdGlvbnNoaXBGaWVsZCB8IFVwbG9hZEZpZWxkXG4gIGluZGV4PzogbnVtYmVyXG4gIGtleT86IHN0cmluZ1xuICBsb2NhbGU6IG51bGwgfCBzdHJpbmdcbiAgb3ZlcnJpZGVBY2Nlc3M6IGJvb2xlYW5cbiAgcmVxOiBQYXlsb2FkUmVxdWVzdFxuICBzaG93SGlkZGVuRmllbGRzOiBib29sZWFuXG59XG5cbmNvbnN0IHBvcHVsYXRlID0gYXN5bmMgKHtcbiAgY3VycmVudERlcHRoLFxuICBkYXRhLFxuICBkYXRhUmVmZXJlbmNlLFxuICBkZXB0aCxcbiAgZHJhZnQgPSBmYWxzZSxcbiAgZmFsbGJhY2tMb2NhbGUsXG4gIGZpZWxkLFxuICBpbmRleCxcbiAga2V5LFxuICBsb2NhbGUsXG4gIG92ZXJyaWRlQWNjZXNzLFxuICByZXEsXG4gIHNob3dIaWRkZW5GaWVsZHMsXG59OiBQb3B1bGF0ZUFyZ3MpID0+IHtcbiAgY29uc3QgZGF0YVRvVXBkYXRlID0gZGF0YVJlZmVyZW5jZVxuICBjb25zdCByZWxhdGlvbiA9IEFycmF5LmlzQXJyYXkoZmllbGQucmVsYXRpb25UbykgPyAoZGF0YS5yZWxhdGlvblRvIGFzIHN0cmluZykgOiBmaWVsZC5yZWxhdGlvblRvXG4gIGNvbnN0IHJlbGF0ZWRDb2xsZWN0aW9uID0gcmVxLnBheWxvYWQuY29sbGVjdGlvbnNbcmVsYXRpb25dXG5cbiAgaWYgKHJlbGF0ZWRDb2xsZWN0aW9uKSB7XG4gICAgbGV0IGlkID0gQXJyYXkuaXNBcnJheShmaWVsZC5yZWxhdGlvblRvKSA/IGRhdGEudmFsdWUgOiBkYXRhXG4gICAgbGV0IHJlbGF0aW9uc2hpcFZhbHVlXG4gICAgY29uc3Qgc2hvdWxkUG9wdWxhdGUgPSBkZXB0aCAmJiBjdXJyZW50RGVwdGggPD0gZGVwdGhcblxuICAgIGlmIChcbiAgICAgIHR5cGVvZiBpZCAhPT0gJ3N0cmluZycgJiZcbiAgICAgIHR5cGVvZiBpZCAhPT0gJ251bWJlcicgJiZcbiAgICAgIHR5cGVvZiBpZD8udG9TdHJpbmcgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgIHR5cGVvZiBpZCAhPT0gJ29iamVjdCdcbiAgICApIHtcbiAgICAgIGlkID0gaWQudG9TdHJpbmcoKVxuICAgIH1cblxuICAgIGlmIChzaG91bGRQb3B1bGF0ZSkge1xuICAgICAgcmVsYXRpb25zaGlwVmFsdWUgPSBhd2FpdCByZXEucGF5bG9hZERhdGFMb2FkZXIubG9hZChcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkoW1xuICAgICAgICAgIHJlcS50cmFuc2FjdGlvbklELFxuICAgICAgICAgIHJlbGF0ZWRDb2xsZWN0aW9uLmNvbmZpZy5zbHVnLFxuICAgICAgICAgIGlkLFxuICAgICAgICAgIGRlcHRoLFxuICAgICAgICAgIGN1cnJlbnREZXB0aCArIDEsXG4gICAgICAgICAgbG9jYWxlLFxuICAgICAgICAgIGZhbGxiYWNrTG9jYWxlLFxuICAgICAgICAgIG92ZXJyaWRlQWNjZXNzLFxuICAgICAgICAgIHNob3dIaWRkZW5GaWVsZHMsXG4gICAgICAgICAgZHJhZnQsXG4gICAgICAgIF0pLFxuICAgICAgKVxuICAgIH1cblxuICAgIGlmICghcmVsYXRpb25zaGlwVmFsdWUpIHtcbiAgICAgIC8vIGlkcyBhcmUgdmlzaWJsZSByZWdhcmRsZXNzIG9mIGFjY2VzcyBjb250cm9sc1xuICAgICAgcmVsYXRpb25zaGlwVmFsdWUgPSBpZFxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgaW5kZXggPT09ICdudW1iZXInICYmIHR5cGVvZiBrZXkgPT09ICdzdHJpbmcnKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShmaWVsZC5yZWxhdGlvblRvKSkge1xuICAgICAgICBkYXRhVG9VcGRhdGVbZmllbGQubmFtZV1ba2V5XVtpbmRleF0udmFsdWUgPSByZWxhdGlvbnNoaXBWYWx1ZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0YVRvVXBkYXRlW2ZpZWxkLm5hbWVdW2tleV1baW5kZXhdID0gcmVsYXRpb25zaGlwVmFsdWVcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBpbmRleCA9PT0gJ251bWJlcicgfHwgdHlwZW9mIGtleSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGZpZWxkLnJlbGF0aW9uVG8pKSB7XG4gICAgICAgIGRhdGFUb1VwZGF0ZVtmaWVsZC5uYW1lXVtpbmRleCA/PyBrZXldLnZhbHVlID0gcmVsYXRpb25zaGlwVmFsdWVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGFUb1VwZGF0ZVtmaWVsZC5uYW1lXVtpbmRleCA/PyBrZXldID0gcmVsYXRpb25zaGlwVmFsdWVcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoZmllbGQucmVsYXRpb25UbykpIHtcbiAgICAgIGRhdGFUb1VwZGF0ZVtmaWVsZC5uYW1lXS52YWx1ZSA9IHJlbGF0aW9uc2hpcFZhbHVlXG4gICAgfSBlbHNlIHtcbiAgICAgIGRhdGFUb1VwZGF0ZVtmaWVsZC5uYW1lXSA9IHJlbGF0aW9uc2hpcFZhbHVlXG4gICAgfVxuICB9XG59XG5cbnR5cGUgUHJvbWlzZUFyZ3MgPSB7XG4gIGN1cnJlbnREZXB0aDogbnVtYmVyXG4gIGRlcHRoOiBudW1iZXJcbiAgZHJhZnQ6IGJvb2xlYW5cbiAgZmFsbGJhY2tMb2NhbGU6IG51bGwgfCBzdHJpbmdcbiAgZmllbGQ6IFJlbGF0aW9uc2hpcEZpZWxkIHwgVXBsb2FkRmllbGRcbiAgbG9jYWxlOiBudWxsIHwgc3RyaW5nXG4gIG92ZXJyaWRlQWNjZXNzOiBib29sZWFuXG4gIHJlcTogUGF5bG9hZFJlcXVlc3RcbiAgc2hvd0hpZGRlbkZpZWxkczogYm9vbGVhblxuICBzaWJsaW5nRG9jOiBSZWNvcmQ8c3RyaW5nLCBhbnk+XG59XG5cbmNvbnN0IHJlbGF0aW9uc2hpcFBvcHVsYXRpb25Qcm9taXNlID0gYXN5bmMgKHtcbiAgY3VycmVudERlcHRoLFxuICBkZXB0aCxcbiAgZHJhZnQsXG4gIGZhbGxiYWNrTG9jYWxlLFxuICBmaWVsZCxcbiAgbG9jYWxlLFxuICBvdmVycmlkZUFjY2VzcyxcbiAgcmVxLFxuICBzaG93SGlkZGVuRmllbGRzLFxuICBzaWJsaW5nRG9jLFxufTogUHJvbWlzZUFyZ3MpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgY29uc3QgcmVzdWx0aW5nRG9jID0gc2libGluZ0RvY1xuICBjb25zdCBwb3B1bGF0ZURlcHRoID0gZmllbGRIYXNNYXhEZXB0aChmaWVsZCkgJiYgZmllbGQubWF4RGVwdGggPCBkZXB0aCA/IGZpZWxkLm1heERlcHRoIDogZGVwdGhcbiAgY29uc3Qgcm93UHJvbWlzZXMgPSBbXVxuXG4gIGlmIChmaWVsZFN1cHBvcnRzTWFueShmaWVsZCkgJiYgZmllbGQuaGFzTWFueSkge1xuICAgIGlmIChcbiAgICAgIGxvY2FsZSA9PT0gJ2FsbCcgJiZcbiAgICAgIHR5cGVvZiBzaWJsaW5nRG9jW2ZpZWxkLm5hbWVdID09PSAnb2JqZWN0JyAmJlxuICAgICAgc2libGluZ0RvY1tmaWVsZC5uYW1lXSAhPT0gbnVsbFxuICAgICkge1xuICAgICAgT2JqZWN0LmtleXMoc2libGluZ0RvY1tmaWVsZC5uYW1lXSkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNpYmxpbmdEb2NbZmllbGQubmFtZV1ba2V5XSkpIHtcbiAgICAgICAgICBzaWJsaW5nRG9jW2ZpZWxkLm5hbWVdW2tleV0uZm9yRWFjaCgocmVsYXRlZERvYywgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJvd1Byb21pc2UgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgIGF3YWl0IHBvcHVsYXRlKHtcbiAgICAgICAgICAgICAgICBjdXJyZW50RGVwdGgsXG4gICAgICAgICAgICAgICAgZGF0YTogc2libGluZ0RvY1tmaWVsZC5uYW1lXVtrZXldW2luZGV4XSxcbiAgICAgICAgICAgICAgICBkYXRhUmVmZXJlbmNlOiByZXN1bHRpbmdEb2MsXG4gICAgICAgICAgICAgICAgZGVwdGg6IHBvcHVsYXRlRGVwdGgsXG4gICAgICAgICAgICAgICAgZHJhZnQsXG4gICAgICAgICAgICAgICAgZmFsbGJhY2tMb2NhbGUsXG4gICAgICAgICAgICAgICAgZmllbGQsXG4gICAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgIGxvY2FsZSxcbiAgICAgICAgICAgICAgICBvdmVycmlkZUFjY2VzcyxcbiAgICAgICAgICAgICAgICByZXEsXG4gICAgICAgICAgICAgICAgc2hvd0hpZGRlbkZpZWxkcyxcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJvd1Byb21pc2VzLnB1c2gocm93UHJvbWlzZSgpKVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHNpYmxpbmdEb2NbZmllbGQubmFtZV0pKSB7XG4gICAgICBzaWJsaW5nRG9jW2ZpZWxkLm5hbWVdLmZvckVhY2goKHJlbGF0ZWREb2MsIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHJvd1Byb21pc2UgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgaWYgKHJlbGF0ZWREb2MpIHtcbiAgICAgICAgICAgIGF3YWl0IHBvcHVsYXRlKHtcbiAgICAgICAgICAgICAgY3VycmVudERlcHRoLFxuICAgICAgICAgICAgICBkYXRhOiByZWxhdGVkRG9jLFxuICAgICAgICAgICAgICBkYXRhUmVmZXJlbmNlOiByZXN1bHRpbmdEb2MsXG4gICAgICAgICAgICAgIGRlcHRoOiBwb3B1bGF0ZURlcHRoLFxuICAgICAgICAgICAgICBkcmFmdCxcbiAgICAgICAgICAgICAgZmFsbGJhY2tMb2NhbGUsXG4gICAgICAgICAgICAgIGZpZWxkLFxuICAgICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgICAgbG9jYWxlLFxuICAgICAgICAgICAgICBvdmVycmlkZUFjY2VzcyxcbiAgICAgICAgICAgICAgcmVxLFxuICAgICAgICAgICAgICBzaG93SGlkZGVuRmllbGRzLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByb3dQcm9taXNlcy5wdXNoKHJvd1Byb21pc2UoKSlcbiAgICAgIH0pXG4gICAgfVxuICB9IGVsc2UgaWYgKFxuICAgIHR5cGVvZiBzaWJsaW5nRG9jW2ZpZWxkLm5hbWVdID09PSAnb2JqZWN0JyAmJlxuICAgIHNpYmxpbmdEb2NbZmllbGQubmFtZV0gIT09IG51bGwgJiZcbiAgICBsb2NhbGUgPT09ICdhbGwnXG4gICkge1xuICAgIE9iamVjdC5rZXlzKHNpYmxpbmdEb2NbZmllbGQubmFtZV0pLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgY29uc3Qgcm93UHJvbWlzZSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgcG9wdWxhdGUoe1xuICAgICAgICAgIGN1cnJlbnREZXB0aCxcbiAgICAgICAgICBkYXRhOiBzaWJsaW5nRG9jW2ZpZWxkLm5hbWVdW2tleV0sXG4gICAgICAgICAgZGF0YVJlZmVyZW5jZTogcmVzdWx0aW5nRG9jLFxuICAgICAgICAgIGRlcHRoOiBwb3B1bGF0ZURlcHRoLFxuICAgICAgICAgIGRyYWZ0LFxuICAgICAgICAgIGZhbGxiYWNrTG9jYWxlLFxuICAgICAgICAgIGZpZWxkLFxuICAgICAgICAgIGtleSxcbiAgICAgICAgICBsb2NhbGUsXG4gICAgICAgICAgb3ZlcnJpZGVBY2Nlc3MsXG4gICAgICAgICAgcmVxLFxuICAgICAgICAgIHNob3dIaWRkZW5GaWVsZHMsXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICByb3dQcm9taXNlcy5wdXNoKHJvd1Byb21pc2UoKSlcbiAgICB9KVxuXG4gICAgYXdhaXQgUHJvbWlzZS5hbGwocm93UHJvbWlzZXMpXG4gIH0gZWxzZSBpZiAoc2libGluZ0RvY1tmaWVsZC5uYW1lXSkge1xuICAgIGF3YWl0IHBvcHVsYXRlKHtcbiAgICAgIGN1cnJlbnREZXB0aCxcbiAgICAgIGRhdGE6IHNpYmxpbmdEb2NbZmllbGQubmFtZV0sXG4gICAgICBkYXRhUmVmZXJlbmNlOiByZXN1bHRpbmdEb2MsXG4gICAgICBkZXB0aDogcG9wdWxhdGVEZXB0aCxcbiAgICAgIGRyYWZ0LFxuICAgICAgZmFsbGJhY2tMb2NhbGUsXG4gICAgICBmaWVsZCxcbiAgICAgIGxvY2FsZSxcbiAgICAgIG92ZXJyaWRlQWNjZXNzLFxuICAgICAgcmVxLFxuICAgICAgc2hvd0hpZGRlbkZpZWxkcyxcbiAgICB9KVxuICB9XG4gIGF3YWl0IFByb21pc2UuYWxsKHJvd1Byb21pc2VzKVxufVxuXG5leHBvcnQgZGVmYXVsdCByZWxhdGlvbnNoaXBQb3B1bGF0aW9uUHJvbWlzZVxuIl0sIm5hbWVzIjpbInBvcHVsYXRlIiwiY3VycmVudERlcHRoIiwiZGF0YSIsImRhdGFSZWZlcmVuY2UiLCJkZXB0aCIsImRyYWZ0IiwiZmFsbGJhY2tMb2NhbGUiLCJmaWVsZCIsImluZGV4Iiwia2V5IiwibG9jYWxlIiwib3ZlcnJpZGVBY2Nlc3MiLCJyZXEiLCJzaG93SGlkZGVuRmllbGRzIiwiZGF0YVRvVXBkYXRlIiwicmVsYXRpb24iLCJBcnJheSIsImlzQXJyYXkiLCJyZWxhdGlvblRvIiwicmVsYXRlZENvbGxlY3Rpb24iLCJwYXlsb2FkIiwiY29sbGVjdGlvbnMiLCJpZCIsInZhbHVlIiwicmVsYXRpb25zaGlwVmFsdWUiLCJzaG91bGRQb3B1bGF0ZSIsInRvU3RyaW5nIiwicGF5bG9hZERhdGFMb2FkZXIiLCJsb2FkIiwiSlNPTiIsInN0cmluZ2lmeSIsInRyYW5zYWN0aW9uSUQiLCJjb25maWciLCJzbHVnIiwibmFtZSIsInJlbGF0aW9uc2hpcFBvcHVsYXRpb25Qcm9taXNlIiwic2libGluZ0RvYyIsInJlc3VsdGluZ0RvYyIsInBvcHVsYXRlRGVwdGgiLCJmaWVsZEhhc01heERlcHRoIiwibWF4RGVwdGgiLCJyb3dQcm9taXNlcyIsImZpZWxkU3VwcG9ydHNNYW55IiwiaGFzTWFueSIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwicmVsYXRlZERvYyIsInJvd1Byb21pc2UiLCJwdXNoIiwiUHJvbWlzZSIsImFsbCJdLCJtYXBwaW5ncyI6Ijs7OzsrQkErTkE7OztlQUFBOzs7dUJBNU5vRDtBQWtCcEQsTUFBTUEsV0FBVyxPQUFPLEVBQ3RCQyxZQUFZLEVBQ1pDLElBQUksRUFDSkMsYUFBYSxFQUNiQyxLQUFLLEVBQ0xDLFFBQVEsS0FBSyxFQUNiQyxjQUFjLEVBQ2RDLEtBQUssRUFDTEMsS0FBSyxFQUNMQyxHQUFHLEVBQ0hDLE1BQU0sRUFDTkMsY0FBYyxFQUNkQyxHQUFHLEVBQ0hDLGdCQUFnQixFQUNIO0lBQ2IsTUFBTUMsZUFBZVg7SUFDckIsTUFBTVksV0FBV0MsTUFBTUMsT0FBTyxDQUFDVixNQUFNVyxVQUFVLElBQUtoQixLQUFLZ0IsVUFBVSxHQUFjWCxNQUFNVyxVQUFVO0lBQ2pHLE1BQU1DLG9CQUFvQlAs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