"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "ListControls", {
    enumerable: true,
    get: function() {
        return ListControls;
    }
});
const _windowinfo = require("@faceless-ui/window-info");
const _react = /*#__PURE__*/ _interop_require_wildcard(require("react"));
const _reactanimateheight = /*#__PURE__*/ _interop_require_default(require("react-animate-height"));
const _reacti18next = require("react-i18next");
const _types = require("../../../../fields/config/types");
const _getTranslation = require("../../../../utilities/getTranslation");
const _Chevron = /*#__PURE__*/ _interop_require_default(require("../../icons/Chevron"));
const _SearchParams = require("../../utilities/SearchParams");
const _ColumnSelector = /*#__PURE__*/ _interop_require_default(require("../ColumnSelector"));
const _DeleteMany = /*#__PURE__*/ _interop_require_default(require("../DeleteMany"));
const _EditMany = /*#__PURE__*/ _interop_require_default(require("../EditMany"));
const _Pill = /*#__PURE__*/ _interop_require_default(require("../Pill"));
const _PublishMany = /*#__PURE__*/ _interop_require_default(require("../PublishMany"));
const _SearchFilter = /*#__PURE__*/ _interop_require_default(require("../SearchFilter"));
const _SortComplex = /*#__PURE__*/ _interop_require_default(require("../SortComplex"));
const _UnpublishMany = /*#__PURE__*/ _interop_require_default(require("../UnpublishMany"));
const _WhereBuilder = /*#__PURE__*/ _interop_require_default(require("../WhereBuilder"));
const _validateWhereQuery = /*#__PURE__*/ _interop_require_default(require("../WhereBuilder/validateWhereQuery"));
const _getTextFieldsToBeSearched = require("./getTextFieldsToBeSearched");
require("./index.scss");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
const baseClass = 'list-controls';
const ListControls = (props)=>{
    const { collection: { admin: { listSearchableFields }, fields }, collection, enableColumns = true, enableSort = false, handleSearchChange, handleSortChange, handleWhereChange, modifySearchQuery = true, resetParams, titleField } = props;
    const params = (0, _SearchParams.useSearchParams)();
    const shouldInitializeWhereOpened = (0, _validateWhereQuery.default)(params?.where);
    const hasWhereParam = _react.default.useRef(Boolean(params?.where));
    const [textFieldsToBeSearched, setFieldsToBeSearched] = (0, _react.useState)((0, _getTextFieldsToBeSearched.getTextFieldsToBeSearched)(listSearchableFields, fields));
    const [visibleDrawer, setVisibleDrawer] = (0, _react.useState)(shouldInitializeWhereOpened ? 'where' : undefined);
    const { i18n, t } = (0, _reacti18next.useTranslation)('general');
    const { breakpoints: { s: smallBreak } } = (0, _windowinfo.useWindowInfo)();
    _react.default.useEffect(()=>{
        setFieldsToBeSearched((0, _getTextFieldsToBeSearched.getTextFieldsToBeSearched)(listSearchableFields, fields));
    }, [
        listSearchableFields,
        fields
    ]);
    _react.default.useEffect(()=>{
        if (hasWhereParam.current && !params?.where) {
            setVisibleDrawer(undefined);
            hasWhereParam.current = false;
        } else if (params?.where) {
            hasWhereParam.current = true;
        }
    }, [
        setVisibleDrawer,
        params?.where
    ]);
    return /*#__PURE__*/ _react.default.createElement("div", {
        className: baseClass
    }, /*#__PURE__*/ _react.default.createElement("div", {
        className: `${baseClass}__wrap`
    }, /*#__PURE__*/ _react.default.createElement(_SearchFilter.default, {
        fieldLabel: (titleField && (0, _getTranslation.getTranslation)(titleField.label || titleField.name, i18n)) ?? undefined,
        fieldName: titleField && (0, _types.fieldAffectsData)(titleField) ? titleField.name : undefined,
        handleChange: handleSearchChange,
        listSearchableFields: textFieldsToBeSearched,
        modifySearchQuery: modifySearchQuery
    }), /*#__PURE__*/ _react.default.createElement("div", {
        className: `${baseClass}__buttons`
    }, /*#__PURE__*/ _react.default.createElement("div", {
        className: `${baseClass}__buttons-wrap`
    }, !smallBreak && /*#__PURE__*/ _react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/ _react.default.createElement(_EditMany.default, {
        collection: collection,
        resetParams: resetParams
    }), /*#__PURE__*/ _react.default.createElement(_PublishMany.default, {
        collection: collection,
        resetParams: resetParams
    }), /*#__PURE__*/ _react.default.createElement(_UnpublishMany.default, {
        collection: collection,
        resetParams: resetParams
    }), /*#__PURE__*/ _react.default.createElement(_DeleteMany.default, {
        collection: collection,
        resetParams: resetParams
    })), enableColumns && /*#__PURE__*/ _react.default.createElement(_Pill.default, {
        "aria-controls": `${baseClass}-columns`,
        "aria-expanded": visibleDrawer === 'columns',
        className: `${baseClass}__toggle-columns ${visibleDrawer === 'columns' ? `${baseClass}__buttons-active` : ''}`,
        icon: /*#__PURE__*/ _react.default.createElement(_Chevron.default, null),
        onClick: ()=>setVisibleDrawer(visibleDrawer !== 'columns' ? 'columns' : undefined),
        pillStyle: "light"
    }, t('columns')), /*#__PURE__*/ _react.default.createElement(_Pill.default, {
        "aria-controls": `${baseClass}-where`,
        "aria-expanded": visibleDrawer === 'where',
        className: `${baseClass}__toggle-where ${visibleDrawer === 'where' ? `${baseClass}__buttons-active` : ''}`,
        icon: /*#__PURE__*/ _react.default.createElement(_Chevron.default, null),
        onClick: ()=>setVisibleDrawer(visibleDrawer !== 'where' ? 'where' : undefined),
        pillStyle: "light"
    }, t('filters')), enableSort && /*#__PURE__*/ _react.default.createElement(_Pill.default, {
        "aria-controls": `${baseClass}-sort`,
        "aria-expanded": visibleDrawer === 'sort',
        className: `${baseClass}__toggle-sort`,
        icon: /*#__PURE__*/ _react.default.createElement(_Chevron.default, null),
        onClick: ()=>setVisibleDrawer(visibleDrawer !== 'sort' ? 'sort' : undefined),
        pillStyle: "light"
    }, t('sort'))))), enableColumns && /*#__PURE__*/ _react.default.createElement(_reactanimateheight.default, {
        className: `${baseClass}__columns`,
        height: visibleDrawer === 'columns' ? 'auto' : 0,
        id: `${baseClass}-columns`
    }, /*#__PURE__*/ _react.default.createElement(_ColumnSelector.default, {
        slug: collection.slug
    })), /*#__PURE__*/ _react.default.createElement(_reactanimateheight.default, {
        className: `${baseClass}__where`,
        height: visibleDrawer === 'where' ? 'auto' : 0,
        id: `${baseClass}-where`
    }, /*#__PURE__*/ _react.default.createElement(_WhereBuilder.default, {
        collection: collection,
        handleChange: handleWhereChange,
        key: String(hasWhereParam.current && !params?.where),
        modifySearchQuery: modifySearchQuery
    })), enableSort && /*#__PURE__*/ _react.default.createElement(_reactanimateheight.default, {
        className: `${baseClass}__sort`,
        height: visibleDrawer === 'sort' ? 'auto' : 0,
        id: `${baseClass}-sort`
    }, /*#__PURE__*/ _react.default.createElement(_SortComplex.default, {
        collection: collection,
        handleChange: handleSortChange,
        modifySearchQuery: modifySearchQuery
    })));
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9hZG1pbi9jb21wb25lbnRzL2VsZW1lbnRzL0xpc3RDb250cm9scy9pbmRleC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlV2luZG93SW5mbyB9IGZyb20gJ0BmYWNlbGVzcy11aS93aW5kb3ctaW5mbydcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IEFuaW1hdGVIZWlnaHQgZnJvbSAncmVhY3QtYW5pbWF0ZS1oZWlnaHQnXG5pbXBvcnQgeyB1c2VUcmFuc2xhdGlvbiB9IGZyb20gJ3JlYWN0LWkxOG5leHQnXG5cbmltcG9ydCB0eXBlIHsgUHJvcHMgfSBmcm9tICcuL3R5cGVzJ1xuXG5pbXBvcnQgeyBmaWVsZEFmZmVjdHNEYXRhIH0gZnJvbSAnLi4vLi4vLi4vLi4vZmllbGRzL2NvbmZpZy90eXBlcydcbmltcG9ydCB7IGdldFRyYW5zbGF0aW9uIH0gZnJvbSAnLi4vLi4vLi4vLi4vdXRpbGl0aWVzL2dldFRyYW5zbGF0aW9uJ1xuaW1wb3J0IENoZXZyb24gZnJvbSAnLi4vLi4vaWNvbnMvQ2hldnJvbidcbmltcG9ydCB7IHVzZVNlYXJjaFBhcmFtcyB9IGZyb20gJy4uLy4uL3V0aWxpdGllcy9TZWFyY2hQYXJhbXMnXG5pbXBvcnQgQ29sdW1uU2VsZWN0b3IgZnJvbSAnLi4vQ29sdW1uU2VsZWN0b3InXG5pbXBvcnQgRGVsZXRlTWFueSBmcm9tICcuLi9EZWxldGVNYW55J1xuaW1wb3J0IEVkaXRNYW55IGZyb20gJy4uL0VkaXRNYW55J1xuaW1wb3J0IFBpbGwgZnJvbSAnLi4vUGlsbCdcbmltcG9ydCBQdWJsaXNoTWFueSBmcm9tICcuLi9QdWJsaXNoTWFueSdcbmltcG9ydCBTZWFyY2hGaWx0ZXIgZnJvbSAnLi4vU2VhcmNoRmlsdGVyJ1xuaW1wb3J0IFNvcnRDb21wbGV4IGZyb20gJy4uL1NvcnRDb21wbGV4J1xuaW1wb3J0IFVucHVibGlzaE1hbnkgZnJvbSAnLi4vVW5wdWJsaXNoTWFueSdcbmltcG9ydCBXaGVyZUJ1aWxkZXIgZnJvbSAnLi4vV2hlcmVCdWlsZGVyJ1xuaW1wb3J0IHZhbGlkYXRlV2hlcmVRdWVyeSBmcm9tICcuLi9XaGVyZUJ1aWxkZXIvdmFsaWRhdGVXaGVyZVF1ZXJ5J1xuaW1wb3J0IHsgZ2V0VGV4dEZpZWxkc1RvQmVTZWFyY2hlZCB9IGZyb20gJy4vZ2V0VGV4dEZpZWxkc1RvQmVTZWFyY2hlZCdcbmltcG9ydCAnLi9pbmRleC5zY3NzJ1xuXG5jb25zdCBiYXNlQ2xhc3MgPSAnbGlzdC1jb250cm9scydcblxuLyoqXG4gKiBUaGUgTGlzdENvbnRyb2xzIGNvbXBvbmVudCBpcyB1c2VkIHRvIHJlbmRlciB0aGUgY29udHJvbHMgKHNlYXJjaCwgZmlsdGVyLCB3aGVyZSlcbiAqIGZvciBhIGNvbGxlY3Rpb24ncyBsaXN0IHZpZXcuIFlvdSBjYW4gZmluZCB0aG9zZSBkaXJlY3RseSBhYm92ZSB0aGUgdGFibGUgd2hpY2ggbGlzdHNcbiAqIHRoZSBjb2xsZWN0aW9uJ3MgZG9jdW1lbnRzLlxuICovXG5leHBvcnQgY29uc3QgTGlzdENvbnRyb2xzOiBSZWFjdC5GQzxQcm9wcz4gPSAocHJvcHMpID0+IHtcbiAgY29uc3Qge1xuICAgIGNvbGxlY3Rpb246IHtcbiAgICAgIGFkbWluOiB7IGxpc3RTZWFyY2hhYmxlRmllbGRzIH0sXG4gICAgICBmaWVsZHMsXG4gICAgfSxcbiAgICBjb2xsZWN0aW9uLFxuICAgIGVuYWJsZUNvbHVtbnMgPSB0cnVlLFxuICAgIGVuYWJsZVNvcnQgPSBmYWxzZSxcbiAgICBoYW5kbGVTZWFyY2hDaGFuZ2UsXG4gICAgaGFuZGxlU29ydENoYW5nZSxcbiAgICBoYW5kbGVXaGVyZUNoYW5nZSxcbiAgICBtb2RpZnlTZWFyY2hRdWVyeSA9IHRydWUsXG4gICAgcmVzZXRQYXJhbXMsXG4gICAgdGl0bGVGaWVsZCxcbiAgfSA9IHByb3BzXG5cbiAgY29uc3QgcGFyYW1zID0gdXNlU2VhcmNoUGFyYW1zKClcbiAgY29uc3Qgc2hvdWxkSW5pdGlhbGl6ZVdoZXJlT3BlbmVkID0gdmFsaWRhdGVXaGVyZVF1ZXJ5KHBhcmFtcz8ud2hlcmUpXG5cbiAgY29uc3QgaGFzV2hlcmVQYXJhbSA9IFJlYWN0LnVzZVJlZihCb29sZWFuKHBhcmFtcz8ud2hlcmUpKVxuXG4gIGNvbnN0IFt0ZXh0RmllbGRzVG9CZVNlYXJjaGVkLCBzZXRGaWVsZHNUb0JlU2VhcmNoZWRdID0gdXNlU3RhdGUoXG4gICAgZ2V0VGV4dEZpZWxkc1RvQmVTZWFyY2hlZChsaXN0U2VhcmNoYWJsZUZpZWxkcywgZmllbGRzKSxcbiAgKVxuICBjb25zdCBbdmlzaWJsZURyYXdlciwgc2V0VmlzaWJsZURyYXdlcl0gPSB1c2VTdGF0ZTwnY29sdW1ucycgfCAnc29ydCcgfCAnd2hlcmUnPihcbiAgICBzaG91bGRJbml0aWFsaXplV2hlcmVPcGVuZWQgPyAnd2hlcmUnIDogdW5kZWZpbmVkLFxuICApXG4gIGNvbnN0IHsgaTE4biwgdCB9ID0gdXNlVHJhbnNsYXRpb24oJ2dlbmVyYWwnKVxuICBjb25zdCB7XG4gICAgYnJlYWtwb2ludHM6IHsgczogc21hbGxCcmVhayB9LFxuICB9ID0gdXNlV2luZG93SW5mbygpXG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRGaWVsZHNUb0JlU2VhcmNoZWQoZ2V0VGV4dEZpZWxkc1RvQmVTZWFyY2hlZChsaXN0U2VhcmNoYWJsZUZpZWxkcywgZmllbGRzKSlcbiAgfSwgW2xpc3RTZWFyY2hhYmxlRmllbGRzLCBmaWVsZHNdKVxuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGhhc1doZXJlUGFyYW0uY3VycmVudCAmJiAhcGFyYW1zPy53aGVyZSkge1xuICAgICAgc2V0VmlzaWJsZURyYXdlcih1bmRlZmluZWQpXG4gICAgICBoYXNXaGVyZVBhcmFtLmN1cnJlbnQgPSBmYWxzZVxuICAgIH0gZWxzZSBpZiAocGFyYW1zPy53aGVyZSkge1xuICAgICAgaGFzV2hlcmVQYXJhbS5jdXJyZW50ID0gdHJ1ZVxuICAgIH1cbiAgfSwgW3NldFZpc2libGVEcmF3ZXIsIHBhcmFtcz8ud2hlcmVdKVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2Jhc2VDbGFzc30+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7YmFzZUNsYXNzfV9fd3JhcGB9PlxuICAgICAgICA8U2VhcmNoRmlsdGVyXG4gICAgICAgICAgZmllbGRMYWJlbD17XG4gICAgICAgICAgICAodGl0bGVGaWVsZCAmJiBnZXRUcmFuc2xhdGlvbih0aXRsZUZpZWxkLmxhYmVsIHx8IHRpdGxlRmllbGQubmFtZSwgaTE4bikpID8/IHVuZGVmaW5lZFxuICAgICAgICAgIH1cbiAgICAgICAgICBmaWVsZE5hbWU9e3RpdGxlRmllbGQgJiYgZmllbGRBZmZlY3RzRGF0YSh0aXRsZUZpZWxkKSA/IHRpdGxlRmllbGQubmFtZSA6IHVuZGVmaW5lZH1cbiAgICAgICAgICBoYW5kbGVDaGFuZ2U9e2hhbmRsZVNlYXJjaENoYW5nZX1cbiAgICAgICAgICBsaXN0U2VhcmNoYWJsZUZpZWxkcz17dGV4dEZpZWxkc1RvQmVTZWFyY2hlZH1cbiAgICAgICAgICBtb2RpZnlTZWFyY2hRdWVyeT17bW9kaWZ5U2VhcmNoUXVlcnl9XG4gICAgICAgIC8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtiYXNlQ2xhc3N9X19idXR0b25zYH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake2Jhc2VDbGFzc31fX2J1dHRvbnMtd3JhcGB9PlxuICAgICAgICAgICAgeyFzbWFsbEJyZWFrICYmIChcbiAgICAgICAgICAgICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgICAgICAgICAgIDxFZGl0TWFueSBjb2xsZWN0aW9uPXtjb2xsZWN0aW9ufSByZXNldFBhcmFtcz17cmVzZXRQYXJhbXN9IC8+XG4gICAgICAgICAgICAgICAgPFB1Ymxpc2hNYW55IGNvbGxlY3Rpb249e2NvbGxlY3Rpb259IHJlc2V0UGFyYW1zPXtyZXNldFBhcmFtc30gLz5cbiAgICAgICAgICAgICAgICA8VW5wdWJsaXNoTWFueSBjb2xsZWN0aW9uPXtjb2xsZWN0aW9ufSByZXNldFBhcmFtcz17cmVzZXRQYXJhbXN9IC8+XG4gICAgICAgICAgICAgICAgPERlbGV0ZU1hbnkgY29sbGVjdGlvbj17Y29sbGVjdGlvbn0gcmVzZXRQYXJhbXM9e3Jlc2V0UGFyYW1zfSAvPlxuICAgICAgICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHtlbmFibGVDb2x1bW5zICYmIChcbiAgICAgICAgICAgICAgPFBpbGxcbiAgICAgICAgICAgICAgICBhcmlhLWNvbnRyb2xzPXtgJHtiYXNlQ2xhc3N9LWNvbHVtbnNgfVxuICAgICAgICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9e3Zpc2libGVEcmF3ZXIgPT09ICdjb2x1bW5zJ31cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake2Jhc2VDbGFzc31fX3RvZ2dsZS1jb2x1bW5zICR7XG4gICAgICAgICAgICAgICAgICB2aXNpYmxlRHJhd2VyID09PSAnY29sdW1ucycgPyBgJHtiYXNlQ2xhc3N9X19idXR0b25zLWFjdGl2ZWAgOiAnJ1xuICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgIGljb249ezxDaGV2cm9uIC8+fVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+XG4gICAgICAgICAgICAgICAgICBzZXRWaXNpYmxlRHJhd2VyKHZpc2libGVEcmF3ZXIgIT09ICdjb2x1bW5zJyA/ICdjb2x1bW5zJyA6IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGlsbFN0eWxlPVwibGlnaHRcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge3QoJ2NvbHVtbnMnKX1cbiAgICAgICAgICAgICAgPC9QaWxsPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDxQaWxsXG4gICAgICAgICAgICAgIGFyaWEtY29udHJvbHM9e2Ake2Jhc2VDbGFzc30td2hlcmVgfVxuICAgICAgICAgICAgICBhcmlhLWV4cGFuZGVkPXt2aXNpYmxlRHJhd2VyID09PSAnd2hlcmUnfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake2Jhc2VDbGFzc31fX3RvZ2dsZS13aGVyZSAke1xuICAgICAgICAgICAgICAgIHZpc2libGVEcmF3ZXIgPT09ICd3aGVyZScgPyBgJHtiYXNlQ2xhc3N9X19idXR0b25zLWFjdGl2ZWAgOiAnJ1xuICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgaWNvbj17PENoZXZyb24gLz59XG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFZpc2libGVEcmF3ZXIodmlzaWJsZURyYXdlciAhPT0gJ3doZXJlJyA/ICd3aGVyZScgOiB1bmRlZmluZWQpfVxuICAgICAgICAgICAgICBwaWxsU3R5bGU9XCJsaWdodFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHt0KCdmaWx0ZXJzJyl9XG4gICAgICAgICAgICA8L1BpbGw+XG4gICAgICAgICAgICB7ZW5hYmxlU29ydCAmJiAoXG4gICAgICAgICAgICAgIDxQaWxsXG4gICAgICAgICAgICAgICAgYXJpYS1jb250cm9scz17YCR7YmFzZUNsYXNzfS1zb3J0YH1cbiAgICAgICAgICAgICAgICBhcmlhLWV4cGFuZGVkPXt2aXNpYmxlRHJhd2VyID09PSAnc29ydCd9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtiYXNlQ2xhc3N9X190b2dnbGUtc29ydGB9XG4gICAgICAgICAgICAgICAgaWNvbj17PENoZXZyb24gLz59XG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0VmlzaWJsZURyYXdlcih2aXNpYmxlRHJhd2VyICE9PSAnc29ydCcgPyAnc29ydCcgOiB1bmRlZmluZWQpfVxuICAgICAgICAgICAgICAgIHBpbGxTdHlsZT1cImxpZ2h0XCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHt0KCdzb3J0Jyl9XG4gICAgICAgICAgICAgIDwvUGlsbD5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICB7ZW5hYmxlQ29sdW1ucyAmJiAoXG4gICAgICAgIDxBbmltYXRlSGVpZ2h0XG4gICAgICAgICAgY2xhc3NOYW1lPXtgJHtiYXNlQ2xhc3N9X19jb2x1bW5zYH1cbiAgICAgICAgICBoZWlnaHQ9e3Zpc2libGVEcmF3ZXIgPT09ICdjb2x1bW5zJyA/ICdhdXRvJyA6IDB9XG4gICAgICAgICAgaWQ9e2Ake2Jhc2VDbGFzc30tY29sdW1uc2B9XG4gICAgICAgID5cbiAgICAgICAgICA8Q29sdW1uU2VsZWN0b3Igc2x1Zz17Y29sbGVjdGlvbi5zbHVnfSAvPlxuICAgICAgICA8L0FuaW1hdGVIZWlnaHQ+XG4gICAgICApfVxuICAgICAgPEFuaW1hdGVIZWlnaHRcbiAgICAgICAgY2xhc3NOYW1lPXtgJHtiYXNlQ2xhc3N9X193aGVyZWB9XG4gICAgICAgIGhlaWdodD17dmlzaWJsZURyYXdlciA9PT0gJ3doZXJlJyA/ICdhdXRvJyA6IDB9XG4gICAgICAgIGlkPXtgJHtiYXNlQ2xhc3N9LXdoZXJlYH1cbiAgICAgID5cbiAgICAgICAgPFdoZXJlQnVpbGRlclxuICAgICAgICAgIGNvbGxlY3Rpb249e2NvbGxlY3Rpb259XG4gICAgICAgICAgaGFuZGxlQ2hhbmdlPXtoYW5kbGVXaGVyZUNoYW5nZX1cbiAgICAgICAgICBrZXk9e1N0cmluZyhoYXNXaGVyZVBhcmFtLmN1cnJlbnQgJiYgIXBhcmFtcz8ud2hlcmUpfVxuICAgICAgICAgIG1vZGlmeVNlYXJjaFF1ZXJ5PXttb2RpZnlTZWFyY2hRdWVyeX1cbiAgICAgICAgLz5cbiAgICAgIDwvQW5pbWF0ZUhlaWdodD5cbiAgICAgIHtlbmFibGVTb3J0ICYmIChcbiAgICAgICAgPEFuaW1hdGVIZWlnaHRcbiAgICAgICAgICBjbGFzc05hbWU9e2Ake2Jhc2VDbGFzc31fX3NvcnRgfVxuICAgICAgICAgIGhlaWdodD17dmlzaWJsZURyYXdlciA9PT0gJ3NvcnQnID8gJ2F1dG8nIDogMH1cbiAgICAgICAgICBpZD17YCR7YmFzZUNsYXNzfS1zb3J0YH1cbiAgICAgICAgPlxuICAgICAgICAgIDxTb3J0Q29tcGxleFxuICAgICAgICAgICAgY29sbGVjdGlvbj17Y29sbGVjdGlvbn1cbiAgICAgICAgICAgIGhhbmRsZUNoYW5nZT17aGFuZGxlU29ydENoYW5nZX1cbiAgICAgICAgICAgIG1vZGlmeVNlYXJjaFF1ZXJ5PXttb2RpZnlTZWFyY2hRdWVyeX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L0FuaW1hdGVIZWlnaHQ+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApXG59XG4iXSwibmFtZXMiOlsiTGlzdENvbnRyb2xzIiwiYmFzZUNsYXNzIiwicHJvcHMiLCJjb2xsZWN0aW9uIiwiYWRtaW4iLCJsaXN0U2VhcmNoYWJsZUZpZWxkcyIsImZpZWxkcyIsImVuYWJsZUNvbHVtbnMiLCJlbmFibGVTb3J0IiwiaGFuZGxlU2VhcmNoQ2hhbmdlIiwiaGFuZGxlU29ydENoYW5nZSIsImhhbmRsZVdoZXJlQ2hhbmdlIiwibW9kaWZ5U2VhcmNoUXVlcnkiLCJyZXNldFBhcmFtcyIsInRpdGxlRmllbGQiLCJwYXJhbXMiLCJ1c2VTZWFyY2hQYXJhbXMiLCJzaG91bGRJbml0aWFsaXplV2hlcmVPcGVuZWQiLCJ2YWxpZGF0ZVdoZXJlUXVlcnkiLCJ3aGVyZSIsImhhc1doZXJlUGFyYW0iLCJSZWFjdCIsInVzZVJlZiIsIkJvb2xlYW4iLCJ0ZXh0RmllbGRzVG9CZVNlYXJjaGVkIiwic2V0RmllbGRzVG9CZVNlYXJjaGVkIiwidXNlU3RhdGUiLCJnZXRUZXh0RmllbGRzVG9CZVNlYXJjaGVkIiwidmlzaWJsZURyYXdlciIsInNldFZpc2libGVEcmF3ZXIiLCJ1bmRlZmluZWQiLCJpMThuIiwidCIsInVzZVRyYW5zbGF0aW9uIiwiYnJlYWtwb2ludHMiLCJzIiwic21hbGxCcmVhayIsInVzZVdpbmRvd0luZm8iLCJ1c2VFZmZlY3QiLCJjdXJyZW50IiwiZGl2IiwiY2xhc3NOYW1lIiwiU2VhcmNoRmlsdGVyIiwiZmllbGRMYWJlbCIsImdldFRyYW5zbGF0aW9uIiwibGFiZWwiLCJuYW1lIiwiZmllbGROYW1lIiwiZmllbGRBZmZlY3RzRGF0YSIsImhhbmRsZUNoYW5nZSIsIkZyYWdtZW50IiwiRWRpdE1hbnkiLCJQdWJsaXNoTWFueSIsIlVucHVibGlzaE1hbnkiLCJEZWxldGVNYW55IiwiUGlsbCIsImFyaWEtY29udHJvbHMiLCJhcmlhLWV4cGFuZGVkIiwiaWNvbiIsIkNoZXZyb24iLCJvbkNsaWNrIiwicGlsbFN0eWxlIiwiQW5pbWF0ZUhlaWdodCIsImhlaWdodCIsImlkIiwiQ29sdW1uU2VsZWN0b3IiLCJzbHVnIiwiV2hlcmVCdWlsZGVyIiwia2V5IiwiU3RyaW5nIiwiU29ydENvbXBsZXgiXSwibWFwcGluZ3MiOiI7Ozs7K0JBK0JhQTs7O2VBQUFBOzs7NEJBL0JpQjsrREFDRTsyRUFDTjs4QkFDSzt1QkFJRTtnQ0FDRjtnRUFDWDs4QkFDWTt1RUFDTDttRUFDSjtpRUFDRjs2REFDSjtvRUFDTztxRUFDQztvRUFDRDtzRUFDRTtxRUFDRDsyRUFDTTsyQ0FDVztRQUNuQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFUCxNQUFNQyxZQUFZO0FBT1gsTUFBTUQsZUFBZ0MsQ0FBQ0U7SUFDNUMsTUFBTSxFQUNKQyxZQUFZLEVBQ1ZDLE9BQU8sRUFBRUMsb0JBQW9CLEVBQUUsRUFDL0JDLE1BQU0sRUFDUCxFQUNESCxVQUFVLEVBQ1ZJLGdCQUFnQixJQUFJLEVBQ3BCQyxhQUFhLEtBQUssRUFDbEJDLGtCQUFrQixFQUNsQkMsZ0JBQWdCLEVBQ2hCQyxpQkFBaUIsRUFDakJDLG9CQUFvQixJQUFJLEVBQ3hCQyxXQUFXLEVBQ1hDLFVBQVUsRUFDWCxHQUFHWjtJQUVKLE1BQU1hLFNBQVNDLElBQUFBLDZCQUFlO0lBQzlCLE1BQU1DLDhC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