"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return _default;
    }
});
const _qs = /*#__PURE__*/ _interop_require_default(require("qs"));
const _react = /*#__PURE__*/ _interop_require_wildcard(require("react"));
const _reacti18next = require("react-i18next");
const _reactrouterdom = require("react-router-dom");
const _flattenTopLevelFields = /*#__PURE__*/ _interop_require_default(require("../../../../utilities/flattenTopLevelFields"));
const _getTranslation = require("../../../../utilities/getTranslation");
const _useThrottledEffect = /*#__PURE__*/ _interop_require_default(require("../../../hooks/useThrottledEffect"));
const _SearchParams = require("../../utilities/SearchParams");
const _Button = /*#__PURE__*/ _interop_require_default(require("../Button"));
const _Condition = /*#__PURE__*/ _interop_require_default(require("./Condition"));
const _fieldtypes = /*#__PURE__*/ _interop_require_default(require("./field-types"));
require("./index.scss");
const _reducer = /*#__PURE__*/ _interop_require_default(require("./reducer"));
const _transformWhereQuery = require("./transformWhereQuery");
const _validateWhereQuery = /*#__PURE__*/ _interop_require_default(require("./validateWhereQuery"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
const baseClass = 'where-builder';
const reduceFields = (fields, i18n)=>(0, _flattenTopLevelFields.default)(fields).reduce((reduced, field)=>{
        let operators = [];
        if (typeof _fieldtypes.default[field.type] === 'object') {
            if (typeof _fieldtypes.default[field.type].operators === 'function') {
                operators = _fieldtypes.default[field.type].operators('hasMany' in field && field.hasMany ? true : false);
            } else {
                operators = _fieldtypes.default[field.type].operators;
            }
            const operatorKeys = new Set();
            const filteredOperators = operators.reduce((acc, operator)=>{
                if (!operatorKeys.has(operator.value)) {
                    operatorKeys.add(operator.value);
                    return [
                        ...acc,
                        {
                            ...operator,
                            label: i18n.t(`operators:${operator.label}`)
                        }
                    ];
                }
                return acc;
            }, []);
            const formattedField = {
                label: (0, _getTranslation.getTranslation)(field.label || field.name, i18n),
                value: field.name,
                ..._fieldtypes.default[field.type],
                operators: filteredOperators,
                props: {
                    ...field
                }
            };
            if (field.admin && 'disableListFilter' in field.admin && field.admin?.disableListFilter) return reduced;
            return [
                ...reduced,
                formattedField
            ];
        }
        return reduced;
    }, []);
/**
 * The WhereBuilder component is used to render the filter controls for a collection's list view.
 * It is part of the {@link ListControls} component which is used to render the controls (search, filter, where).
 */ const WhereBuilder = (props)=>{
    const { collection: { labels: { plural } = {} } = {}, collection, handleChange, modifySearchQuery = true } = props;
    const history = (0, _reactrouterdom.useHistory)();
    const params = (0, _SearchParams.useSearchParams)();
    const { i18n, t } = (0, _reacti18next.useTranslation)('general');
    // This handles initializing the where conditions from the search query (URL). That way, if you pass in
    // query params to the URL, the where conditions will be initialized from those and displayed in the UI.
    // Example: /admin/collections/posts?where[or][0][and][0][text][equals]=example%20post
    const [conditions, dispatchConditions] = (0, _react.useReducer)(_reducer.default, params.where, (whereFromSearch)=>{
        if (modifySearchQuery && whereFromSearch) {
            if ((0, _validateWhereQuery.default)(whereFromSearch)) {
                return whereFromSearch.or;
            }
            // Transform the where query to be in the right format. This will transform something simple like [text][equals]=example%20post to the right format
            const transformedWhere = (0, _transformWhereQuery.transformWhereQuery)(whereFromSearch);
            if ((0, _validateWhereQuery.default)(transformedWhere)) {
                return transformedWhere.or;
            }
            console.warn('Invalid where query in URL. Ignoring.');
        }
        return [];
    });
    const [reducedFields] = (0, _react.useState)(()=>reduceFields(collection.fields, i18n));
    // This handles updating the search query (URL) when the where conditions change
    (0, _useThrottledEffect.default)(()=>{
        const currentParams = _qs.default.parse(history.location.search, {
            depth: 10,
            ignoreQueryPrefix: true
        });
        const paramsToKeep = typeof currentParams?.where === 'object' && 'or' in currentParams.where ? currentParams.where.or.reduce((keptParams, param)=>{
            const newParam = {
                ...param
            };
            if (param.and) {
                delete newParam.and;
            }
            return [
                ...keptParams,
                newParam
            ];
        }, []) : [];
        const hasNewWhereConditions = conditions.length > 0;
        const newWhereQuery = {
            ...typeof currentParams?.where === 'object' && ((0, _validateWhereQuery.default)(currentParams?.where) || !hasNewWhereConditions) ? currentParams.where : {},
            or: [
                ...conditions,
                ...paramsToKeep
            ]
        };
        if (handleChange) handleChange(newWhereQuery);
        const hasExistingConditions = typeof currentParams?.where === 'object' && 'or' in currentParams.where;
        if (modifySearchQuery && (hasExistingConditions && !hasNewWhereConditions || hasNewWhereConditions)) {
            history.replace({
                search: _qs.default.stringify({
                    ...currentParams,
                    page: 1,
                    where: newWhereQuery
                }, {
                    addQueryPrefix: true
                })
            });
        }
    }, 500, [
        conditions,
        modifySearchQuery,
        handleChange
    ]);
    return /*#__PURE__*/ _react.default.createElement("div", {
        className: baseClass
    }, conditions.length > 0 && /*#__PURE__*/ _react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/ _react.default.createElement("div", {
        className: `${baseClass}__label`
    }, t('filterWhere', {
        label: (0, _getTranslation.getTranslation)(plural, i18n)
    })), /*#__PURE__*/ _react.default.createElement("ul", {
        className: `${baseClass}__or-filters`
    }, conditions.map((or, orIndex)=>/*#__PURE__*/ _react.default.createElement("li", {
            key: orIndex
        }, orIndex !== 0 && /*#__PURE__*/ _react.default.createElement("div", {
            className: `${baseClass}__label`
        }, t('or')), /*#__PURE__*/ _react.default.createElement("ul", {
            className: `${baseClass}__and-filters`
        }, Array.isArray(or?.and) && or.and.map((_, andIndex)=>/*#__PURE__*/ _react.default.createElement("li", {
                key: andIndex
            }, andIndex !== 0 && /*#__PURE__*/ _react.default.createElement("div", {
                className: `${baseClass}__label`
            }, t('and')), /*#__PURE__*/ _react.default.createElement(_Condition.default, {
                andIndex: andIndex,
                dispatch: dispatchConditions,
                fields: reducedFields,
                key: andIndex,
                orIndex: orIndex,
                value: conditions[orIndex].and[andIndex]
            }))))))), /*#__PURE__*/ _react.default.createElement(_Button.default, {
        buttonStyle: "icon-label",
        className: `${baseClass}__add-or`,
        icon: "plus",
        iconPosition: "left",
        iconStyle: "with-border",
        onClick: ()=>{
            if (reducedFields.length > 0) dispatchConditions({
                type: 'add',
                field: reducedFields[0].value
            });
        }
    }, t('or'))), conditions.length === 0 && /*#__PURE__*/ _react.default.createElement("div", {
        className: `${baseClass}__no-filters`
    }, /*#__PURE__*/ _react.default.createElement("div", {
        className: `${baseClass}__label`
    }, t('noFiltersSet')), /*#__PURE__*/ _react.default.createElement(_Button.default, {
        buttonStyle: "icon-label",
        className: `${baseClass}__add-first-filter`,
        icon: "plus",
        iconPosition: "left",
        iconStyle: "with-border",
        onClick: ()=>{
            if (reducedFields.length > 0) dispatchConditions({
                type: 'add',
                field: reducedFields[0].value
            });
        }
    }, t('addFilter'))));
};
const _default = WhereBuilder;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9hZG1pbi9jb21wb25lbnRzL2VsZW1lbnRzL1doZXJlQnVpbGRlci9pbmRleC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHF1ZXJ5U3RyaW5nIGZyb20gJ3FzJ1xuaW1wb3J0IFJlYWN0LCB7IHVzZVJlZHVjZXIsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyB1c2VUcmFuc2xhdGlvbiB9IGZyb20gJ3JlYWN0LWkxOG5leHQnXG5pbXBvcnQgeyB1c2VIaXN0b3J5IH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSdcblxuaW1wb3J0IHR5cGUgeyBXaGVyZSB9IGZyb20gJy4uLy4uLy4uLy4uL3R5cGVzJ1xuaW1wb3J0IHR5cGUgeyBQcm9wcyB9IGZyb20gJy4vdHlwZXMnXG5cbmltcG9ydCBmbGF0dGVuVG9wTGV2ZWxGaWVsZHMgZnJvbSAnLi4vLi4vLi4vLi4vdXRpbGl0aWVzL2ZsYXR0ZW5Ub3BMZXZlbEZpZWxkcydcbmltcG9ydCB7IGdldFRyYW5zbGF0aW9uIH0gZnJvbSAnLi4vLi4vLi4vLi4vdXRpbGl0aWVzL2dldFRyYW5zbGF0aW9uJ1xuaW1wb3J0IHVzZVRocm90dGxlZEVmZmVjdCBmcm9tICcuLi8uLi8uLi9ob29rcy91c2VUaHJvdHRsZWRFZmZlY3QnXG5pbXBvcnQgeyB1c2VTZWFyY2hQYXJhbXMgfSBmcm9tICcuLi8uLi91dGlsaXRpZXMvU2VhcmNoUGFyYW1zJ1xuaW1wb3J0IEJ1dHRvbiBmcm9tICcuLi9CdXR0b24nXG5pbXBvcnQgQ29uZGl0aW9uIGZyb20gJy4vQ29uZGl0aW9uJ1xuaW1wb3J0IGZpZWxkVHlwZXMgZnJvbSAnLi9maWVsZC10eXBlcydcbmltcG9ydCAnLi9pbmRleC5zY3NzJ1xuaW1wb3J0IHJlZHVjZXIgZnJvbSAnLi9yZWR1Y2VyJ1xuaW1wb3J0IHsgdHJhbnNmb3JtV2hlcmVRdWVyeSB9IGZyb20gJy4vdHJhbnNmb3JtV2hlcmVRdWVyeSdcbmltcG9ydCB2YWxpZGF0ZVdoZXJlUXVlcnkgZnJvbSAnLi92YWxpZGF0ZVdoZXJlUXVlcnknXG5cbmNvbnN0IGJhc2VDbGFzcyA9ICd3aGVyZS1idWlsZGVyJ1xuXG5jb25zdCByZWR1Y2VGaWVsZHMgPSAoZmllbGRzLCBpMThuKSA9PlxuICBmbGF0dGVuVG9wTGV2ZWxGaWVsZHMoZmllbGRzKS5yZWR1Y2UoKHJlZHVjZWQsIGZpZWxkKSA9PiB7XG4gICAgbGV0IG9wZXJhdG9ycyA9IFtdXG5cbiAgICBpZiAodHlwZW9mIGZpZWxkVHlwZXNbZmllbGQudHlwZV0gPT09ICdvYmplY3QnKSB7XG4gICAgICBpZiAodHlwZW9mIGZpZWxkVHlwZXNbZmllbGQudHlwZV0ub3BlcmF0b3JzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG9wZXJhdG9ycyA9IGZpZWxkVHlwZXNbZmllbGQudHlwZV0ub3BlcmF0b3JzKFxuICAgICAgICAgICdoYXNNYW55JyBpbiBmaWVsZCAmJiBmaWVsZC5oYXNNYW55ID8gdHJ1ZSA6IGZhbHNlLFxuICAgICAgICApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcGVyYXRvcnMgPSBmaWVsZFR5cGVzW2ZpZWxkLnR5cGVdLm9wZXJhdG9yc1xuICAgICAgfVxuXG4gICAgICBjb25zdCBvcGVyYXRvcktleXMgPSBuZXcgU2V0KClcbiAgICAgIGNvbnN0IGZpbHRlcmVkT3BlcmF0b3JzID0gb3BlcmF0b3JzLnJlZHVjZSgoYWNjLCBvcGVyYXRvcikgPT4ge1xuICAgICAgICBpZiAoIW9wZXJhdG9yS2V5cy5oYXMob3BlcmF0b3IudmFsdWUpKSB7XG4gICAgICAgICAgb3BlcmF0b3JLZXlzLmFkZChvcGVyYXRvci52YWx1ZSlcbiAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgLi4uYWNjLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAuLi5vcGVyYXRvcixcbiAgICAgICAgICAgICAgbGFiZWw6IGkxOG4udChgb3BlcmF0b3JzOiR7b3BlcmF0b3IubGFiZWx9YCksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjXG4gICAgICB9LCBbXSlcblxuICAgICAgY29uc3QgZm9ybWF0dGVkRmllbGQgPSB7XG4gICAgICAgIGxhYmVsOiBnZXRUcmFuc2xhdGlvbihmaWVsZC5sYWJlbCB8fCBmaWVsZC5uYW1lLCBpMThuKSxcbiAgICAgICAgdmFsdWU6IGZpZWxkLm5hbWUsXG4gICAgICAgIC4uLmZpZWxkVHlwZXNbZmllbGQudHlwZV0sXG4gICAgICAgIG9wZXJhdG9yczogZmlsdGVyZWRPcGVyYXRvcnMsXG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgLi4uZmllbGQsXG4gICAgICAgIH0sXG4gICAgICB9XG5cbiAgICAgIGlmIChmaWVsZC5hZG1pbiAmJiAnZGlzYWJsZUxpc3RGaWx0ZXInIGluIGZpZWxkLmFkbWluICYmIGZpZWxkLmFkbWluPy5kaXNhYmxlTGlzdEZpbHRlcilcbiAgICAgICAgcmV0dXJuIHJlZHVjZWRcblxuICAgICAgcmV0dXJuIFsuLi5yZWR1Y2VkLCBmb3JtYXR0ZWRGaWVsZF1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVkdWNlZFxuICB9LCBbXSlcblxuLyoqXG4gKiBUaGUgV2hlcmVCdWlsZGVyIGNvbXBvbmVudCBpcyB1c2VkIHRvIHJlbmRlciB0aGUgZmlsdGVyIGNvbnRyb2xzIGZvciBhIGNvbGxlY3Rpb24ncyBsaXN0IHZpZXcuXG4gKiBJdCBpcyBwYXJ0IG9mIHRoZSB7QGxpbmsgTGlzdENvbnRyb2xzfSBjb21wb25lbnQgd2hpY2ggaXMgdXNlZCB0byByZW5kZXIgdGhlIGNvbnRyb2xzIChzZWFyY2gsIGZpbHRlciwgd2hlcmUpLlxuICovXG5jb25zdCBXaGVyZUJ1aWxkZXI6IFJlYWN0LkZDPFByb3BzPiA9IChwcm9wcykgPT4ge1xuICBjb25zdCB7XG4gICAgY29sbGVjdGlvbjogeyBsYWJlbHM6IHsgcGx1cmFsIH0gPSB7fSB9ID0ge30sXG4gICAgY29sbGVjdGlvbixcbiAgICBoYW5kbGVDaGFuZ2UsXG4gICAgbW9kaWZ5U2VhcmNoUXVlcnkgPSB0cnVlLFxuICB9ID0gcHJvcHNcblxuICBjb25zdCBoaXN0b3J5ID0gdXNlSGlzdG9yeSgpXG4gIGNvbnN0IHBhcmFtcyA9IHVzZVNlYXJjaFBhcmFtcygpXG4gIGNvbnN0IHsgaTE4biwgdCB9ID0gdXNlVHJhbnNsYXRpb24oJ2dlbmVyYWwnKVxuXG4gIC8vIFRoaXMgaGFuZGxlcyBpbml0aWFsaXppbmcgdGhlIHdoZXJlIGNvbmRpdGlvbnMgZnJvbSB0aGUgc2VhcmNoIHF1ZXJ5IChVUkwpLiBUaGF0IHdheSwgaWYgeW91IHBhc3MgaW5cbiAgLy8gcXVlcnkgcGFyYW1zIHRvIHRoZSBVUkwsIHRoZSB3aGVyZSBjb25kaXRpb25zIHdpbGwgYmUgaW5pdGlhbGl6ZWQgZnJvbSB0aG9zZSBhbmQgZGlzcGxheWVkIGluIHRoZSBVSS5cbiAgLy8gRXhhbXBsZTogL2FkbWluL2NvbGxlY3Rpb25zL3Bvc3RzP3doZXJlW29yXVswXVthbmRdWzBdW3RleHRdW2VxdWFsc109ZXhhbXBsZSUyMHBvc3RcbiAgY29uc3QgW2NvbmRpdGlvbnMsIGRpc3BhdGNoQ29uZGl0aW9uc10gPSB1c2VSZWR1Y2VyKHJlZHVjZXIsIHBhcmFtcy53aGVyZSwgKHdoZXJlRnJvbVNlYXJjaCkgPT4ge1xuICAgIGlmIChtb2RpZnlTZWFyY2hRdWVyeSAmJiB3aGVyZUZyb21TZWFyY2gpIHtcbiAgICAgIGlmICh2YWxpZGF0ZVdoZXJlUXVlcnkod2hlcmVGcm9tU2VhcmNoKSkge1xuICAgICAgICByZXR1cm4gd2hlcmVGcm9tU2VhcmNoLm9yXG4gICAgICB9XG5cbiAgICAgIC8vIFRyYW5zZm9ybSB0aGUgd2hlcmUgcXVlcnkgdG8gYmUgaW4gdGhlIHJpZ2h0IGZvcm1hdC4gVGhpcyB3aWxsIHRyYW5zZm9ybSBzb21ldGhpbmcgc2ltcGxlIGxpa2UgW3RleHRdW2VxdWFsc109ZXhhbXBsZSUyMHBvc3QgdG8gdGhlIHJpZ2h0IGZvcm1hdFxuICAgICAgY29uc3QgdHJhbnNmb3JtZWRXaGVyZSA9IHRyYW5zZm9ybVdoZXJlUXVlcnkod2hlcmVGcm9tU2VhcmNoKVxuXG4gICAgICBpZiAodmFsaWRhdGVXaGVyZVF1ZXJ5KHRyYW5zZm9ybWVkV2hlcmUpKSB7XG4gICAgICAgIHJldHVybiB0cmFuc2Zvcm1lZFdoZXJlLm9yXG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUud2FybignSW52YWxpZCB3aGVyZSBxdWVyeSBpbiBVUkwuIElnbm9yaW5nLicpXG4gICAgfVxuICAgIHJldHVybiBbXVxuICB9KVxuXG4gIGNvbnN0IFtyZWR1Y2VkRmllbGRzXSA9IHVzZVN0YXRlKCgpID0+IHJlZHVjZUZpZWxkcyhjb2xsZWN0aW9uLmZpZWxkcywgaTE4bikpXG5cbiAgLy8gVGhpcyBoYW5kbGVzIHVwZGF0aW5nIHRoZSBzZWFyY2ggcXVlcnkgKFVSTCkgd2hlbiB0aGUgd2hlcmUgY29uZGl0aW9ucyBjaGFuZ2VcbiAgdXNlVGhyb3R0bGVkRWZmZWN0KFxuICAgICgpID0+IHtcbiAgICAgIGNvbnN0IGN1cnJlbnRQYXJhbXMgPSBxdWVyeVN0cmluZy5wYXJzZShoaXN0b3J5LmxvY2F0aW9uLnNlYXJjaCwge1xuICAgICAgICBkZXB0aDogMTAsXG4gICAgICAgIGlnbm9yZVF1ZXJ5UHJlZml4OiB0cnVlLFxuICAgICAgfSkgYXMgeyB3aGVyZTogV2hlcmUgfVxuXG4gICAgICBjb25zdCBwYXJhbXNUb0tlZXAgPVxuICAgICAgICB0eXBlb2YgY3VycmVudFBhcmFtcz8ud2hlcmUgPT09ICdvYmplY3QnICYmICdvcicgaW4gY3VycmVudFBhcmFtcy53aGVyZVxuICAgICAgICAgID8gY3VycmVudFBhcmFtcy53aGVyZS5vci5yZWR1Y2UoKGtlcHRQYXJhbXMsIHBhcmFtKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IG5ld1BhcmFtID0geyAuLi5wYXJhbSB9XG4gICAgICAgICAgICAgIGlmIChwYXJhbS5hbmQpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgbmV3UGFyYW0uYW5kXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIFsuLi5rZXB0UGFyYW1zLCBuZXdQYXJhbV1cbiAgICAgICAgICAgIH0sIFtdKVxuICAgICAgICAgIDogW11cblxuICAgICAgY29uc3QgaGFzTmV3V2hlcmVDb25kaXRpb25zID0gY29uZGl0aW9ucy5sZW5ndGggPiAwXG5cbiAgICAgIGNvbnN0IG5ld1doZXJlUXVlcnkgPSB7XG4gICAgICAgIC4uLih0eXBlb2YgY3VycmVudFBhcmFtcz8ud2hlcmUgPT09ICdvYmplY3QnICYmXG4gICAgICAgICh2YWxpZGF0ZVdoZXJlUXVlcnkoY3VycmVudFBhcmFtcz8ud2hlcmUpIHx8ICFoYXNOZXdXaGVyZUNvbmRpdGlvbnMpXG4gICAgICAgICAgPyBjdXJyZW50UGFyYW1zLndoZXJlXG4gICAgICAgICAgOiB7fSksXG4gICAgICAgIG9yOiBbLi4uY29uZGl0aW9ucywgLi4ucGFyYW1zVG9LZWVwXSxcbiAgICAgIH1cblxuICAgICAgaWYgKGhhbmRsZUNoYW5nZSkgaGFuZGxlQ2hhbmdlKG5ld1doZXJlUXVlcnkgYXMgV2hlcmUpXG5cbiAgICAgIGNvbnN0IGhhc0V4aXN0aW5nQ29uZGl0aW9ucyA9XG4gICAgICAgIHR5cGVvZiBjdXJyZW50UGFyYW1zPy53aGVyZSA9PT0gJ29iamVjdCcgJiYgJ29yJyBpbiBjdXJyZW50UGFyYW1zLndoZXJlXG5cbiAgICAgIGlmIChcbiAgICAgICAgbW9kaWZ5U2VhcmNoUXVlcnkgJiZcbiAgICAgICAgKChoYXNFeGlzdGluZ0NvbmRpdGlvbnMgJiYgIWhhc05ld1doZXJlQ29uZGl0aW9ucykgfHwgaGFzTmV3V2hlcmVDb25kaXRpb25zKVxuICAgICAgKSB7XG4gICAgICAgIGhpc3RvcnkucmVwbGFjZSh7XG4gICAgICAgICAgc2VhcmNoOiBxdWVyeVN0cmluZy5zdHJpbmdpZnkoXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIC4uLmN1cnJlbnRQYXJhbXMsXG4gICAgICAgICAgICAgIHBhZ2U6IDEsXG4gICAgICAgICAgICAgIHdoZXJlOiBuZXdXaGVyZVF1ZXJ5LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHsgYWRkUXVlcnlQcmVmaXg6IHRydWUgfSxcbiAgICAgICAgICApLFxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0sXG4gICAgNTAwLFxuICAgIFtjb25kaXRpb25zLCBtb2RpZnlTZWFyY2hRdWVyeSwgaGFuZGxlQ2hhbmdlXSxcbiAgKVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2Jhc2VDbGFzc30+XG4gICAgICB7Y29uZGl0aW9ucy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtiYXNlQ2xhc3N9X19sYWJlbGB9PlxuICAgICAgICAgICAge3QoJ2ZpbHRlcldoZXJlJywgeyBsYWJlbDogZ2V0VHJhbnNsYXRpb24ocGx1cmFsLCBpMThuKSB9KX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8dWwgY2xhc3NOYW1lPXtgJHtiYXNlQ2xhc3N9X19vci1maWx0ZXJzYH0+XG4gICAgICAgICAgICB7Y29uZGl0aW9ucy5tYXAoKG9yLCBvckluZGV4KSA9PiAoXG4gICAgICAgICAgICAgIDxsaSBrZXk9e29ySW5kZXh9PlxuICAgICAgICAgICAgICAgIHtvckluZGV4ICE9PSAwICYmIDxkaXYgY2xhc3NOYW1lPXtgJHtiYXNlQ2xhc3N9X19sYWJlbGB9Pnt0KCdvcicpfTwvZGl2Pn1cbiAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPXtgJHtiYXNlQ2xhc3N9X19hbmQtZmlsdGVyc2B9PlxuICAgICAgICAgICAgICAgICAge0FycmF5LmlzQXJyYXkob3I/LmFuZCkgJiZcbiAgICAgICAgICAgICAgICAgICAgb3IuYW5kLm1hcCgoXywgYW5kSW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICA8bGkga2V5PXthbmRJbmRleH0+XG4gICAgICAgICAgICAgICAgICAgICAgICB7YW5kSW5kZXggIT09IDAgJiYgPGRpdiBjbGFzc05hbWU9e2Ake2Jhc2VDbGFzc31fX2xhYmVsYH0+e3QoJ2FuZCcpfTwvZGl2Pn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxDb25kaXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgYW5kSW5kZXg9e2FuZEluZGV4fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaD17ZGlzcGF0Y2hDb25kaXRpb25zfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZHM9e3JlZHVjZWRGaWVsZHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17YW5kSW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9ySW5kZXg9e29ySW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtjb25kaXRpb25zW29ySW5kZXhdLmFuZFthbmRJbmRleF19XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L3VsPlxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIGJ1dHRvblN0eWxlPVwiaWNvbi1sYWJlbFwiXG4gICAgICAgICAgICBjbGFzc05hbWU9e2Ake2Jhc2VDbGFzc31fX2FkZC1vcmB9XG4gICAgICAgICAgICBpY29uPVwicGx1c1wiXG4gICAgICAgICAgICBpY29uUG9zaXRpb249XCJsZWZ0XCJcbiAgICAgICAgICAgIGljb25TdHlsZT1cIndpdGgtYm9yZGVyXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgaWYgKHJlZHVjZWRGaWVsZHMubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICBkaXNwYXRjaENvbmRpdGlvbnMoeyB0eXBlOiAnYWRkJywgZmllbGQ6IHJlZHVjZWRGaWVsZHNbMF0udmFsdWUgfSlcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAge3QoJ29yJyl9XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgICApfVxuICAgICAge2NvbmRpdGlvbnMubGVuZ3RoID09PSAwICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake2Jhc2VDbGFzc31fX25vLWZpbHRlcnNgfT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7YmFzZUNsYXNzfV9fbGFiZWxgfT57dCgnbm9GaWx0ZXJzU2V0Jyl9PC9kaXY+XG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgYnV0dG9uU3R5bGU9XCJpY29uLWxhYmVsXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7YmFzZUNsYXNzfV9fYWRkLWZpcnN0LWZpbHRlcmB9XG4gICAgICAgICAgICBpY29uPVwicGx1c1wiXG4gICAgICAgICAgICBpY29uUG9zaXRpb249XCJsZWZ0XCJcbiAgICAgICAgICAgIGljb25TdHlsZT1cIndpdGgtYm9yZGVyXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgaWYgKHJlZHVjZWRGaWVsZHMubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICBkaXNwYXRjaENvbmRpdGlvbnMoeyB0eXBlOiAnYWRkJywgZmllbGQ6IHJlZHVjZWRGaWVsZHNbMF0udmFsdWUgfSlcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAge3QoJ2FkZEZpbHRlcicpfVxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgV2hlcmVCdWlsZGVyXG4iXSwibmFtZXMiOlsiYmFzZUNsYXNzIiwicmVkdWNlRmllbGRzIiwiZmllbGRzIiwiaTE4biIsImZsYXR0ZW5Ub3BMZXZlbEZpZWxkcyIsInJlZHVjZSIsInJlZHVjZWQiLCJmaWVsZCIsIm9wZXJhdG9ycyIsImZpZWxkVHlwZXMiLCJ0eXBlIiwiaGFzTWFueSIsIm9wZXJhdG9yS2V5cyIsIlNldCIsImZpbHRlcmVkT3BlcmF0b3JzIiwiYWNjIiwib3BlcmF0b3IiLCJoYXMiLCJ2YWx1ZSIsImFkZCIsImxhYmVsIiwidCIsImZvcm1hdHRlZEZpZWxkIiwiZ2V0VHJhbnNsYXRpb24iLCJuYW1lIiwicHJvcHMiLCJhZG1pbiIsImRpc2FibGVMaXN0RmlsdGVyIiwiV2hlcmVCdWlsZGVyIiwiY29sbGVjdGlvbiIsImxhYmVscyIsInBsdXJhbCIsImhhbmRsZUNoYW5nZSIsIm1vZGlmeVNlYXJjaFF1ZXJ5IiwiaGlzdG9yeSIsInVzZUhpc3RvcnkiLCJwYXJhbXMiLCJ1c2VTZWFyY2hQYXJhbXMiLCJ1c2VUcmFuc2xhdGlvbiIsImNvbmRpdGlvbnMiLCJkaXNwYXRjaENvbmRpdGlvbnMiLCJ1c2VSZWR1Y2VyIiwicmVkdWNlciIsIndoZXJlIiwid2hlcmVGcm9tU2VhcmNoIiwidmFsaWRhdGVXaGVyZVF1ZXJ5Iiwib3IiLCJ0cmFuc2Zvcm1lZFdoZXJlIiwidHJhbnNmb3JtV2hlcmVRdWVyeSIsImNvbnNvbGUiLCJ3YXJuIiwicmVkdWNlZEZpZWxkcyIsInVzZVN0YXRlIiwidXNlVGhyb3R0bGVkRWZmZWN0IiwiY3VycmVudFBhcmFtcyIsInF1ZXJ5U3RyaW5nIiwicGFyc2UiLCJsb2NhdGlvbiIsInNlYXJjaCIsImRlcHRoIiwiaWdub3JlUXVlcnlQcmVmaXgiLCJwYXJhbXNUb0tlZXAiLCJrZXB0UGFyYW1zIiwicGFyYW0iLCJuZXdQYXJhbSIsImFuZCIsImhhc05ld1doZXJlQ29uZGl0aW9ucyIsImxlbmd0aCIsIm5ld1doZXJlUXVlcnkiLCJoYXNFeGlzdGluZ0NvbmRpdGlvbnMiLCJyZXBsYWNlIiwic3RyaW5naWZ5IiwicGFnZSIsImFkZFF1ZXJ5UHJlZml4IiwiZGl2IiwiY2xhc3NOYW1lIiwiUmVhY3QiLCJGcmFnbWVudCIsInVsIiwibWFwIiwib3JJbmRleCIsImxpIiwia2V5IiwiQXJyYXkiLCJpc0FycmF5IiwiXyIsImFuZEluZGV4IiwiQ29uZGl0aW9uIiwiZGlzcGF0Y2giLCJCdXR0b24iLCJidXR0b25TdHlsZSIsImljb24iLCJpY29uUG9zaXRpb24iLCJpY29uU3R5bGUiLCJvbkNsaWNrIl0sIm1hcHBpbmdzIjoiOzs7OytCQXFPQTs7O2VBQUE7OzsyREFyT3dCOytEQUNvQjs4QkFDYjtnQ0FDSjs4RUFLTztnQ0FDSDsyRUFDQTs4QkFDQzsrREFDYjtrRUFDRzttRUFDQztRQUNoQjtnRUFDYTtxQ0FDZ0I7MkVBQ0w7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRS9CLE1BQU1BLFlBQVk7QUFFbEIsTUFBTUMsZUFBZSxDQUFDQyxRQUFRQyxPQUM1QkMsSUFBQUEsOEJBQXFCLEVBQUNGLFFBQVFHLE1BQU0sQ0FBQyxDQUFDQyxTQUFTQztRQUM3QyxJQUFJQyxZQUFZLEVBQUU7UUFFbEIsSUFBSSxPQUFPQyxtQkFBVSxDQUFDRixNQUFNRyxJQUFJLENBQUMsS0FBSyxVQUFVO1lBQzlDLElBQUksT0FBT0QsbUJBQVUsQ0FBQ0YsTUFBTUcsSUFBSSxDQUFDLENBQUNGLFNBQVMsS0FBSyxZQUFZO2dCQUMxREEsWUFBWUMsbUJBQVUsQ0FBQ0YsTUFBTUcsSUFBSSxDQUFDLENBQUNGLFNBQVMsQ0FDMUMsYUFBYUQsU0FBU0EsTUFBTUksT0FBTyxHQUFHLE9BQU87WUFFakQsT0FBTztnQkFDTEgsWUFBWUMsbUJBQVUsQ0FBQ0YsTUFBTUcsSUFBSSxDQUFDLENBQUNGLFNBQVM7WUFDOUM7WUFFQSxNQUFNSSxlQUFlLElBQUlDO1lBQ3pCLE1BQU1DLG9CQUFvQk4sVUFBVUgsTUFBTSxDQUFDLENBQUNVLEtBQUtDO2dCQUMvQyxJQUFJLENBQUNKLGFBQWFLLEdBQUcsQ0FBQ0QsU0FBU0UsS0FBSyxHQUFHO29CQUNy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